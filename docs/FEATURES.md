# Features

## Components

| Component | Location | Description |
|-----------|----------|-------------|
| MarketingLayout | src/layouts/MarketingLayout.jsx | Public layout with marketing header (logo, nav, login/signup buttons) and footer. Uses Outlet for nested routes. Password-gated (BringMore$now!) with REPCOMMISH logo, localStorage persistence. |
| AppLayout | src/layouts/AppLayout.jsx | Sidebar nav with company icons at top, icon navigation below, sign out button, customizable homepage (long-press/right-click logo to set any page as homepage). All app routes under /app/* prefix. |
| ProtectedRoute | src/components/ProtectedRoute.jsx | Auth + subscription guard. Redirects to /login if not authenticated, to /signup if no active subscription. |
| MarketingHeader | src/components/marketing/MarketingHeader.jsx | Sticky header with logo, nav links (Features, Pricing, About), Login/Sign Up buttons, mobile menu. |
| MarketingFooter | src/components/marketing/MarketingFooter.jsx | Footer with brand description, product links, account links, copyright. |
| HomePage | src/pages/marketing/HomePage.jsx | Hero section, features preview cards, screenshot demo section, CTA. Auto-redirects authenticated users to /app. |
| FeaturesPage | src/pages/marketing/FeaturesPage.jsx | Detailed feature breakdown with Lucide icons (8 features). |
| PricingPage | src/pages/marketing/PricingPage.jsx | Monthly ($15/mo) and Annual ($144/yr, save 20%) pricing cards with feature lists and FAQ. |
| AboutPage | src/pages/marketing/AboutPage.jsx | Product story: the problem, the solution, what makes it different. |
| SignUpPage | src/pages/marketing/SignUpPage.jsx | Plan toggle (monthly/annual from URL param), email/password form, creates account then redirects to Stripe Checkout. Supports resume flow for users without active subscription. |
| CheckoutSuccess | src/pages/marketing/CheckoutSuccess.jsx | Success message with "Go to Dashboard" button after Stripe payment. |
| CheckoutCancel | src/pages/marketing/CheckoutCancel.jsx | Cancellation message with retry options. |
| Login | src/pages/Login.jsx | Email/password sign-in within MarketingLayout. Auto-redirects to /app if already logged in. Sign-up link. |
| Dashboard | src/pages/Dashboard.jsx | Cross-brand reporting: **cycle picker** (scrolls through only cycles with trackers — e.g. "2025 Winter", "2025-2026"), saves selected cycle to localStorage per user, summary cards (Total Sales, Commission Earned, Commission Owed), brand cards with logo + per-brand totals + progress bars |
| Accounts | src/pages/Accounts.jsx | Account list with search, add/import accounts (CSV import, uses AccountContext). Edit dialog includes Website, Phone, Primary Contact, Additional Contacts. Account names link to detail page. Visual cues for accounts with website/contacts. |
| AccountDetail | src/pages/AccountDetail.jsx | Full account management page (/accounts/:id) with auto-detected logo, contact info card, todos section, auto-saving notes, and order history reporting (lifetime summary, by cycle, by brand). |
| AccountQuickView | src/components/AccountQuickView.jsx | Popover component (Info icon) showing account logo, name (linked), website, phone, primary contact, and additional contacts. Used in Sales and Commission group headers. |
| Sales | _(removed)_ | Sales now accessed only via CompanyDetail > Sales tab |
| Commission | _(removed)_ | Commission now accessed only via CompanyDetail > Sales tab |
| TopBar | src/components/TopBar.jsx | Top-right bar with dark mode toggle (Moon/Sun icon) and user avatar button (opens UserSettingsDialog) |
| UserSettingsDialog | src/components/UserSettingsDialog.jsx | Dialog for avatar upload (Supabase Storage), email change (sends confirmation), and password change |
| useTheme | src/hooks/useTheme.js | Dark mode hook: reads/writes localStorage, toggles `.dark` class on document root |
| AuthContext | src/context/AuthContext.jsx | Auth state (user, loading, subscription), signUp, signIn, signOut, updateEmail, updatePassword, updateAvatar, refreshSubscription via Supabase Auth + subscriptions table. Session health check on visibilitychange only signs out on confirmed auth errors (not timeouts). |
| AccountContext | src/context/AccountContext.jsx | Account CRUD (single + bulk CSV import) via Supabase + getAccountName, getAccount helpers |
| SalesContext | src/context/SalesContext.jsx | Seasons + Orders + Commissions CRUD via Supabase. Exports `deriveCycle()` (derives cycle label from season's sale_cycle or year), `cycleSortKey()` (chronological sort), `getActiveCycles()` (sorted unique cycles from non-archived seasons). |
| TodoContext | src/context/TodoContext.jsx | Per-company to-do CRUD via Supabase (add, edit, toggle complete, pin/unpin, reorder, delete) + getTodosByAccount helper |
| CompanyContext | src/context/CompanyContext.jsx | Company CRUD via Supabase (add, update, archive, reorder) + logo upload to Storage |
| Companies | src/pages/Companies.jsx | Company list with add/edit, logo upload to Supabase Storage, archive/restore, drag-to-reorder, per-category commission rate overrides, retroactive commission rate updates (dialog asks "Going Forward Only" or "Apply to All Orders" when rates change, with payment warning if existing payments found) |
| CompanyDetail | src/pages/CompanyDetail.jsx | Tab shell: header with Add Sale + Add Payment buttons + Dashboard/Sales/Commission/Payments tabs per company |
| CompanyPayments | src/components/company/CompanyPayments.jsx | Per-company payment history: flattened from commission payments JSONB, grouped by date, sortable columns (Account, Date, Amount), search by account name, summary cards (Total Payments, Payment Count), sticky search + table header |
| BulkPaymentModal | src/components/company/BulkPaymentModal.jsx | Bulk payment entry: shared date input, multiple payment rows with searchable account dropdown + pay status + cents-first amount, aggregates rows per account, appends to existing payments array, short shipped confirmation dialog |
| CompanyDashboard | src/components/company/CompanyDashboard.jsx | Season dropdown, 4 summary cards, To Dos with searchable account dropdown, pin/unpin, drag-to-reorder, overdue styling |
| CompanySales | src/components/company/CompanySales.jsx | Per-company sales: season tabs, **account-grouped table** (orders grouped by account with header rows showing account name, order count, group total, invoices with doc links, pending amount, and "Add Invoice" button), group invoice modal (manage invoices at account level — stored on first order in group), sticky first-column edit/delete actions, clickable summary cards that filter by order type, **single-step multi-row Add Sale modal** with company logo+name header (Account search, Order Type + Sales Tracker row, Total + Commission % + Close Date row, collapsible "Add Additional Details" section with Category, Items, Order #, Upload Doc, Stage, Notes), "+ Add Row" for bulk adding multiple sales, smart defaults (Prebook, Order Placed, today's date, company commission %), Edit mode shows all fields in single row, Sale Type column in table (Prebook/At Once), document upload on Order #, cents-first currency Total input (typing "4424" → $44.24), only Account + Total required, stages include Partially Shipped and Short Shipped (with confirmation dialog and amber row styling, excluded from totals), celebration popup after adding a sale, scrollable modal (max-h-90vh), "+Note" text button vs amber StickyNote icon, search, filters, notes modal, CSV import with tracker confirmation dialog |
| CompanySettings | src/components/company/CompanySettings.jsx | Per-company settings: configurable order types, items, and stages lists with add/remove chips and save button |
| CompanyCommission | src/components/company/CompanyCommission.jsx | Per-company commission: order-driven (excludes Cancelled and Short Shipped), **account-grouped table** (clickable group header rows to expand/collapse, showing account name, order count, combined total, combined commission due, invoices with doc links, pending amount, and "+ Payment" button), **account-level payment modal** (Pay Status dropdown, summary with Commission Due/Total Paid/Remaining, multiple payments with amount + date, stored on first order's commission record), clickable summary card filters (Earned/Paid/Outstanding), row highlighting (green=Paid, yellow=Partial), search bar |
| Supabase Client | src/lib/supabase.js | Supabase client init (uses VITE_SUPABASE_URL + VITE_SUPABASE_ANON_KEY) |
| CSV Parser | src/lib/csv.js | CSV parsing utilities: `parseCSVLine` (handles quoted fields with commas) and `splitCSVRows` (handles multi-line quoted fields) |
| DB Helpers | src/lib/db.js | All Supabase query helpers (companies, clients, seasons, orders, commissions, todos, subscriptions, storage) with pagination for 1000+ row tables |
| Constants | src/lib/constants.js | Regions, account types, EXCLUDED_STAGES (Cancelled, Short Shipped) |
| SQL Schema | scripts/schema.sql | Full PostgreSQL schema with RLS policies, storage buckets, and subscriptions table |
| Seed Script | scripts/seed.js | One-time seed script to import mock data for a user |
| Checkout Edge Function | supabase/functions/create-checkout-session/index.ts | Creates Stripe Customer + Checkout Session for subscription payment. Inserts/updates subscriptions row. |
| Webhook Edge Function | supabase/functions/stripe-webhook/index.ts | Handles Stripe webhook events: checkout.session.completed, subscription updated/deleted, invoice.payment_failed. Updates subscription status in DB. |
| ContactPage | src/pages/marketing/ContactPage.jsx | Contact page with hero, email card (hello@repcommish.com), quick questions card, "Ask a Question" form (sends via Edge Function + fallback to DB), success confirmation. |
| Contact Email Edge Function | supabase/functions/contact-email/index.ts | Saves contact message to DB and sends HTML email notification to hello@repcommish.com via Hostinger SMTP (denomailer). |
| Email Signature | email-signature.html | Minimalist HTML email signature with REPCOMMISH logo, thin teal line, contact info, and "Track your sales. Know your commish." tagline. |
| Reports | src/pages/Reports.jsx | Reports page with 5 export cards (Accounts, Brands, Sales, Commissions, Payments). Each card offers .xlsx and .pdf download buttons. PDFs include RepCommish logo and branded teal table headers. |
| XLSX Export | src/lib/exportXlsx.js | Five export functions using SheetJS (xlsx) to generate .xlsx files for accounts, brands, sales, commissions, and payments. |
| PDF Export | src/lib/exportPdf.js | Five export functions using jsPDF + jspdf-autotable to generate landscape PDF reports with logo, title, date, and branded teal (#005b5b) table headers. |
| ImportPaymentsModal | src/components/company/ImportPaymentsModal.jsx | 4-step CSV import wizard for bulk payment recording. Step 1: Year/Quarter selection dropdowns (years from brand's sales seasons, Q1-Q4), CSV upload (disabled until year or quarter selected), downloadable template (Payment Import Template.xlsx). Step 2: Review table with matched/underpaid/overpaid/not-found status badges, editable amounts, commission due comparison. Step 3: Discrepancy review for underpaid accounts with optional Short Shipped marking (shows unshipped sales calculation). Step 4: Confirmation summary and save. Uses same payment save logic as BulkPaymentModal (account-grouped, JSONB payments array, legacy migration). |
| TableBuilder | src/components/ui/TableBuilder.jsx | Reusable editable table component for in-app data entry. Supports text, select, and number column types. Features: keyboard navigation (Tab between cells, Enter to next row), add/delete rows, required field highlighting, auto-focus first cell. Used in all import modals as "Fill in App" alternative to CSV upload. |
| OnboardingTour | src/components/OnboardingTour.jsx | 13-step guided walkthrough for first-time users. Navigates through brands, accounts, sales, commissions, payments, dashboard, brand pages, homepage, reports, and settings. Includes CSV import template downloads. Skip/restart support. Completion persisted to both localStorage AND Supabase user_metadata.tour_done (survives deploys/cache clears). Restart from Help menu. |

## Changelog

| Date | Change |
|------|--------|
| 2026-02-07 | Initial prototype: Dashboard, Clients, Sales, Commission pages |
| 2026-02-07 | Added Nitro logo (inverted) to sidebar navigation |
| 2026-02-07 | Added Companies page, company quick links in sidebar, archive, CompanyDetail dashboards |
| 2026-02-07 | Restructured sidebar: company icons at top, logo upload, drag-to-reorder |
| 2026-02-07 | Rewrote Sales page: custom tabs, add/archive tabs, inline edit/delete orders |
| 2026-02-07 | Sales enhancements: Invoice # and Documents columns, search bar, Order Type and Stage column filters, archived tab dropdown with restore |
| 2026-02-07 | Sales: Commission column (auto-calculated from company %), Notes column, Add Sale dialog with searchable client dropdown, commission override with visual flag, horizontally scrollable table |
| 2026-02-07 | Restructured Sales & Commission under CompanyDetail tabs; added TodoContext and CompanyDashboard with To Dos; Sales/Commission pages now show company directory |
| 2026-02-07 | Removed standalone Sales/Commission pages and nav items; Add Sale button moved to company header; pill-style tabs (black/white); To Dos: searchable account typeahead, pin/unpin, drag-to-reorder; Sales: notes modal via StickyNote icon, "+ New Sales Tracker" rename |
| 2026-02-07 | Add Sale button moved next to company name (green); Commission rewritten: order-driven from Closed-Won sales, shows Order #/Invoice #/Total, clickable summary cards filter table (Earned=all, Paid=paid+partial, Outstanding=not paid), row highlighting by pay status |
| 2026-02-07 | Commission enhancements: search bar (account, order #, invoice #, total), archive/restore season tabs (same pattern as Sales), inline pay status editing (pay status dropdown, amount paid, paid date with Save/Cancel) |
| 2026-02-07 | Tab edit UX revamp: replaced hover archive icon with pencil edit icon on all tabs; merged create/edit into single dialog with mode flag; edit modal shows Archive/Unarchive button; archived dropdown shows pencil edit icons; FolderArchive icon for archived dropdown; applies to both Sales and Commission tabs |
| 2026-02-07 | Sales & Commission table UX: sticky first-column edit actions (no scroll needed), removed Documents column, dual document upload in Add Sale dialog, invoice # hyperlinks, "+Note" vs amber icon, $ currency formatting with decimal sanitization, % commission input with no-spinner CSS, 4 clickable summary cards on Sales page, status-aware sticky backgrounds on Commission |
| 2026-02-07 | Sales UX refinements: replaced inline row editing with modal-based editing (pencil opens pre-filled Add/Edit dialog), unified Add/Edit Sale dialog with isEditMode flag, document uploads moved inline next to Order # and Invoice # labels, Total Sales card reordered to first position |
| 2026-02-09 | Supabase backend: Added auth (email/password), migrated all contexts from mock data to Supabase (PostgreSQL + RLS), added file storage (logos public, documents private with signed URLs), created AuthContext, ClientContext, Login page, db helpers, constants, SQL schema, seed script, .htaccess for Hostinger SPA routing. Deleted mockData.js. |
| 2026-02-09 | Rebranded to RepCommish: custom logo on login, favicon, title "REPCOMMISH". Deployed to Hostinger VPS with nginx + SSL (repcommish.com). |
| 2026-02-09 | Locked down signups: removed sign up UI from login page, disabled signups in Supabase, added robots.txt to block search engines. |
| 2026-02-10 | Renamed "Clients" to "Accounts" throughout the app (UI, contexts, db helpers, routes). Added CSV import for bulk account creation. Added CSV import for sales (per-tracker with confirmation dialog). |
| 2026-02-10 | Custom company settings: per-company configurable order types, items, and stages. Settings tab on CompanyDetail. Unified items column on orders (replaced rental_items/retail_items). Multi-select item checkboxes in Add Sale dialog. Dynamic per-order-type summary cards. Removed hardcoded Rental/Retail split from Dashboard and Sales. |
| 2026-02-10 | Add/Edit Sale modal redesigned as 2-step wizard: Step 1 (Sale Type, Tracker, Account), Step 2 (Order Type, Items, Order #, Total, Stage, Close Date, Notes). Added sale_type column (Prebook/At Once) to orders table and sales table. Removed Invoice # and Commission % Override from modal. Prominent Total input with larger text. Modal prevents outside-click dismiss. |
| 2026-02-10 | Step 2 UX enhancements: required Order Type and Stage fields (must select, not pre-filled), Stage moved next to Close Date, company logo in modal footer, live comma-formatted Total with large $ sign. Added celebration popup after adding a sale with animated confetti dots, bouncing company logo, random snowboarder hype messages, green commission amount, and "LET'S GO!" dismiss button. |
| 2026-02-10 | Modal branding: company logo + name header on both wizard steps. Cents-first currency input (typing digits fills from right, e.g. "4424" → $44.24). Reduced Total input to text-2xl. Added max-h-[90vh] overflow-y-auto to modal for small viewports. |
| 2026-02-10 | Customizable homepage: long-press or right-click the RepCommish logo to set any page as homepage (including company detail with specific tab). Logo click navigates to saved homepage instead of always Dashboard. "Reset to Dashboard" option to clear. Uses localStorage keyed by user ID. |
| 2026-02-10 | Brand color consistency: unified #005b5b across active season tabs, buttons, and CSS theme vars (--primary, --ring). |
| 2026-02-10 | CSV multi-line fix: added splitCSVRows() to handle multi-line quoted fields (invoice numbers with embedded newlines). |
| 2026-02-10 | Supabase pagination: fetchAccounts() and fetchOrders() now paginate past the 1000-row default limit. |
| 2026-02-10 | Stage system overhaul: "Order Placed" and "Cancelled" are permanent default stages. Cancelled orders excluded from all totals, highlighted red with line-through on Sales. Commission page shows all non-cancelled orders. |
| 2026-02-11 | Dashboard repurposed as cross-brand reporting page: year selector (2025–2050), 3 summary cards, brand table with logo/name/sales/commission. Commission calculated from order data + company rate (not commissions table). Sales tracker: Year field changed from free-text to dropdown (2025–2050), removed start/end date fields. Nav icon changed from LayoutDashboard to BarChart3. |
| 2026-02-11 | Invoice tracking & partial shipments: added invoices JSONB column to orders table. Dynamic invoice list in Add/Edit Sale (number, amount, document per invoice). Stacked order/invoice numbers in Sales and Commission tables with document hyperlinks. Pending shipment indicator. New default stages: Partially Shipped (full total counts) and Short Shipped (excluded from totals, amber row styling, confirmation dialog). EXCLUDED_STAGES constant replaces hardcoded 'Cancelled' filter across all dashboards. CSV import converts invoice_number to invoices array. |
| 2026-02-12 | Account-grouped orders with shared invoices: Sales and Commission tables now group orders by account. Group header rows show account name, order count, group total, invoices (with doc links), pending amount, and "Add Invoice" button. Invoices managed at account level via group invoice modal (stored on first order in group). Removed per-order invoice editing from Add/Edit Sale dialog. Removed Account Name and Invoice # columns from table headers (now in group header). |
| 2026-02-12 | Clickable account rows, account-level payments, sidebar logo fix: Entire group header rows are clickable to expand/collapse (Sales + Commission). Commission page: replaced per-order inline editing with account-level payment modal ("+ Payment" button on group rows opens modal with Pay Status, payment list with amount + date, auto status calculation). Sidebar brand logos now have white background containers for visibility. Deployed to repcommish.com. |
| 2026-02-14 | Per-category commission rates: Companies can set different commission % per category (e.g., Rental 7%, Retail 4%) via the Edit Brand form. Category rates are used as the expected rate — only manual per-order overrides show the hazard icon. Add Sale form auto-updates commission % when category changes. Short-shipped logic uses weighted average rate. Fixed "Unpaid" pay status not persisting in commission aggregation. Deployed to repcommish.com. |
| 2026-02-14 | User settings & dark mode: TopBar with dark mode toggle and user avatar. UserSettingsDialog for avatar upload, email change, password change. useTheme hook with localStorage persistence and anti-flash script. Full dark mode cleanup across all 8+ component files with dark: variants on cards, tables, dropdowns, badges, modals, forms, and more. Supabase avatars storage bucket. Deployed to repcommish.com. |
| 2026-02-15 | Reduced top gap: py-8/pt-8 → py-4/pt-4 on all pages, updated sticky offsets (top-[123px]→top-[107px], top-[165px]→top-[149px]). New Payments tab on CompanyDetail showing all payment history grouped by date with sortable columns and search. New BulkPaymentModal for adding payments to multiple accounts at once with shared date, searchable account dropdown, pay status, and cents-first amount entry. Green "+ Add Payment" button in company header. |
| 2026-02-15 | Marketing website + Stripe integration: Restructured routing — app moved under /app/*, root URL serves marketing homepage. Created MarketingLayout (header + footer), MarketingHeader (sticky, mobile menu), MarketingFooter. Marketing pages: HomePage (hero, features preview, demo screenshot, CTA), FeaturesPage (8 detailed feature cards with Lucide icons), PricingPage (monthly $9/annual $72 with save badge, FAQ), AboutPage. Created ProtectedRoute with auth + subscription guard. Updated Login for public route with /app redirect. SignUpPage with plan toggle + Stripe Checkout redirect. CheckoutSuccess/CheckoutCancel pages. Supabase edge functions: create-checkout-session (Stripe Customer + Checkout Session), stripe-webhook (handles checkout.session.completed, subscription updated/deleted, invoice.payment_failed). Subscriptions table with RLS. AuthContext updated with subscription state + refreshSubscription. All internal app links updated with /app prefix. Pexels stock photo for hero demo section. |
| 2026-02-15 | Marketing site polish: Added color accents (teal/amber/emerald/violet/rose), enlarged header logo, added Home nav link, renamed all "RepCommish" to "REPCOMMISH", changed heading to "Know your commish.", removed hero badges, added password protection (BringMore$now!), updated pricing to $15/mo + $144/yr. Disabled subscription checks (commented out fetchSubscription + ProtectedRoute guard). Fixed app sidebar logo to correct white vertical version. Multiple deploys. |
| 2026-02-15 | Contact page + email: Created ContactPage with hero, email/quick questions cards, ask-a-question form. Form submits to contact-email Edge Function (saves to DB + sends SMTP email to hello@repcommish.com via Hostinger). Fallback: direct DB insert. Added Contact to nav header, footer, and router. Created minimalist email signature (email-signature.html) with REPCOMMISH logo, teal line, tagline. |
| 2026-02-15 | Screenshot gallery: Replaced single mock screenshot on homepage with 3 real app screenshots (dashboard, commission, brand) in stacked/crooked layout with browser chrome frames. Added lightbox modal with prev/next arrows and dot navigation. Group hover fan-out animation: commission fans left (-60px, -5deg), brand fans right (+60px, +4deg), dashboard lifts up (-16px) with deeper shadow. 500ms smooth transitions. |
| 2026-02-16 | Reports page: New /app/reports page with 5 export cards (Accounts, Brands, Sales, Commissions, Payments). Each card has .xlsx and .pdf download buttons. PDFs include RepCommish logo and teal-branded table headers. Dashboard nav icon changed from BarChart3 to Home; Reports nav item uses BarChart3. |
| 2026-02-17 | Onboarding tour: 13-step guided walkthrough for first-time users covering brands, accounts, import templates, sales, commissions, payments, dashboard, brand pages, homepage setting, reports, and user settings. Skip/restart support. Import template downloads (account-import.xlsx, sales-import.xlsx). Free account support via user_metadata.plan='free'. Auth loading fix (onAuthStateChange pattern). |
| 2026-02-17 | Payment CSV Import: 4-step wizard modal (Upload → Review → Discrepancy Review → Confirm & Save). Auto-detects CSV columns, matches account numbers, shows matched/underpaid/overpaid/not-found status. Editable amounts, optional Short Shipped marking for underpaid accounts with unshipped sales calculation. "Import Payments" button added to CompanyDetail header. |
| 2026-02-17 | Import Payments Step 1 redesign: Added Year dropdown (populated from brand's sales seasons, newest first) and Quarter dropdown (Q1-Q4). File upload disabled until at least one is selected. Removed description text and CSV format example. Added "Need a template?" with downloadable Payment Import Template.xlsx. |
| 2026-02-17 | Add Sale modal redesigned from 2-step wizard to single-step multi-row layout. Account first (full width), Order Type + Sales Tracker on same row, Total + Commission % + Close Date on same row. Collapsible "Add Additional Details" per row (Category, Items, Order #, Stage, Notes). "+ Add Row" for bulk adding. Smart defaults (Prebook, Order Placed, today, company commission %). Only Account + Total required. Edit mode shows all fields. |
| 2026-02-17 | Sale Cycle on trackers: Added `sale_cycle` column to seasons table. New/Edit Sales Tracker modal now has a "Sale Cycle" dropdown (Winter/Spring/Summer/Fall/Annual per year, 2021-2050). Auto-derives `year` field for backward compat. Dashboard year picker replaced with cycle picker that only shows cycles with trackers, saves to localStorage per user. Legacy trackers (no sale_cycle) treated as annual "YYYY-YYYY+1". SalesContext exports `deriveCycle()`, `cycleSortKey()`, `getActiveCycles()`. |
| 2026-02-18 | In-App Table Builder: Added "Fill in App" mode to all 3 import modals (Accounts, Sales, Payments) as alternative to CSV upload. Tab toggle switches between "Upload CSV" and "Fill in App". TableBuilder component provides spreadsheet-like editable grid with keyboard navigation. Table data feeds into same import/confirmation flow as CSV. Tour step 10 updated with "2026-2027" sale cycle example. |
| 2026-02-19 | Account Management & Quick View: New AccountDetail page (/accounts/:id) with auto-detected logo, contact info card (primary + additional contacts with role/extension), todos section, auto-saving notes, order history reporting. AccountQuickView dialog on Sales/Commission group headers with inline contact CRUD, todos display, notes, quick-add todo. Role-gated to master_admin and pro_rep. Logo upload and auto-detect. DB migration: added website, phone, notes, primary_contact, additional_contacts, logo_path to clients table. |
| 2026-02-19 | Session stability: Rewrote visibilitychange health check (only signs out on auth errors, not timeouts). Versioned cache keys for all contexts. Tour completion persisted to Supabase user_metadata to survive deploys. |
